pkgname=device-mozilla-flame
pkgver=1
pkgrel=6
pkgdesc="Mozilla Flame"
url="https://github.com/postmarketOS"
arch="noarch"
license="MIT"
depends="linux-mozilla-flame mkbootimg"
makedepends=""
install="$pkgname.post-install"
subpackages=""
source="deviceinfo initfs-hook.sh 50-firmware.rules 90-android-touch-dev.rules firmware.sh $install"
options="!check"

build() {
	return 0
}

package() {
	install -D -m644 "$srcdir"/deviceinfo \
		"$pkgdir"/etc/deviceinfo
	install -D -m644 "$srcdir"/initfs-hook.sh \
		"$pkgdir"/etc/postmarketos-mkinitfs/hooks/00-${pkgname}.sh
  install -D -m755 "$srcdir"/firmware.sh \
    "$pkgdir"/usr/bin/firmware.sh
	install -D -m644 "$srcdir"/50-firmware.rules \
		      "$pkgdir"/etc/udev/rules.d/50-firmware.rules
	install -D -m644 "$srcdir"/90-android-touch-dev.rules \
		"$pkgdir"/etc/udev/rules.d/90-android-touch-dev.rules
}

sha512sums="bf1d5c11ec1bb20ed70d664725fbedd5ce5773cbcfbe4148ac8f93377c6b97517f84f66a62fe35f14cff747ac96515c5969f92e07a130163c5541e3daa75f362  deviceinfo
a69589dfbf0e15dec21b53b9265c3ca2269e4722e2bcde81fda9bb308b3a22e363096d5bca4c18c3fdd38cb1e6e656cf10f19c21196daf22f29078ace705a85d  initfs-hook.sh
7e6bd7cbfdb37fb8ad405d0b72a958e72d1e661c4b718e8a3af3c1a351c673a3ef04114780a97c0d80597dd8616a1dfbd91da36eab1d330e0fb1ad96fdc4ac04  50-firmware.rules
ee25f3d0377f027d108593eb7953b8db49d7f05a5c36a0c8ca7e7849d15e3c217bc1ac97d77a66e28d2db4b81c0f50b905639911276da40321d2b6cca7f797df  90-android-touch-dev.rules
831238bcb3693e78df75a1862642ceff379f152dcba7df82afb5570b2102fa83e3df81546c25779e1dd1dde1846d2cb2ed9a9b5affd20e5dbe052553c47a75ab  firmware.sh
b14d2f9ee1e18b174c51c56b48e97f7bd14ac438720ea3de9acacb100b1a065c5e1bed5077998e55836ca624da27649f561064e1d10c8a5b5c0716cf1b565172  device-mozilla-flame.post-install"
